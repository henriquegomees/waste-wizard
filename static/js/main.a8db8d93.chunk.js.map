{"version":3,"sources":["store/reducer.js","store/index.js","services/Favourites.js","store/actions.js","containers/SearchForm/index.js","components/MaterialItem/index.js","containers/Results/index.js","containers/Favourites/index.js","App.js","index.js"],"names":["INITIAL_STATE","materials","searchResults","favourites","combineReducers","waste","state","arguments","length","undefined","action","type","Object","objectSpread","payload","slice","results","push","material","map","title","isFav","newArr","item","services_Favourites","get","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","JSON","parse","localStorage","getItem","t0","sent","abrupt","stop","this","apply","set","_ref2","_callee2","_context2","setItem","stringify","_x","fetchData","request","axios","process","dispatch","data","fetchFavourites","FavouritesService","_ref3","_callee3","infos","_context3","index","find","fav","id","description","body","clearResults","addFavourite","_ref4","_callee4","_context4","_x2","removeFavourite","_ref5","_callee5","_context5","findIndex","splice","_x3","SearchForm","input","e","setState","target","value","props","preventDefault","wasteMaterials","keywords","search","toLowerCase","alert","react_default","createElement","onSubmit","_handleSubmit","bind","placeholder","onChange","_handleInputChange","Search_default","fontSize","Component","connect","bindActionCreators","MaterialItem","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","React","createRef","str","txt","document","innerHTML","node","current","htmlStr","_parseStrToHTML","insertAdjacentHTML","className","onClick","Star_default","name","ref","Results","components_MaterialItem","key","_handleClick","App","CircularProgress_default","containers_SearchForm","containers_Results","containers_Favourites","devTools","window","__REDUX_DEVTOOLS_EXTENSION__","store","applyMiddleware","multi","promise","thunk","createStore","rootReducer","ReactDOM","render","es","src_App","getElementById"],"mappings":"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","file":"static/js/main.a8db8d93.chunk.js","sourcesContent":["\r\nconst INITIAL_STATE = {\r\n    materials: [],\r\n    searchResults: [],\r\n    favourites: []\r\n}\r\n\r\nexport default ( state = INITIAL_STATE, action ) => {\r\n    switch ( action.type ){\r\n        case 'FETCH_DATA' :\r\n            return { ...state, materials: action.payload }\r\n\r\n        case 'FETCH_FAVOURITES' :\r\n            return { ...state, favourites: action.favourites }\r\n\r\n        case 'SEARCH_RESULTS' :\r\n        case 'CLEAR_RESULTS'  :\r\n            return { ...state, searchResults: action.payload }\r\n\r\n        case 'ADD_FAVOURITE' :\r\n            let favourites = state.favourites.slice()\r\n            let results    = state.searchResults.slice() \r\n            favourites.push(action.material)\r\n\r\n            return { \r\n                ...state,\r\n                favourites,\r\n                searchResults: results.map(material =>\r\n                    material.title === action.material.title \r\n                    ? { ...material, isFav: true } \r\n                    : material) \r\n            }\r\n\r\n        case 'REMOVE_FAVOURITE' :\r\n            let newArr = state.searchResults.slice() \r\n\r\n            return { \r\n                ...state,\r\n                searchResults: newArr.map(material =>\r\n                    material.title === action.material.title \r\n                    ? { ...material, isFav: false } \r\n                    : material) \r\n            }\r\n\r\n        default :\r\n            return state\r\n    } \r\n}\r\n","\r\nimport { combineReducers } from 'redux'\r\n\r\nimport wasteReducer from './reducer'\r\n\r\nexport default combineReducers({\r\n    waste: wasteReducer\r\n})\r\n","\r\nconst item = 'favouritesMaterials'\r\n\r\nconst get = async () => await JSON.parse( localStorage.getItem( item ) ) || []\r\n\r\nconst set = async favourites => await localStorage.setItem( item, JSON.stringify( favourites ) )\r\n\r\nexport default {\r\n    get, \r\n    set\r\n}\r\n","\r\nimport axios from 'axios'\r\nimport FavouritesService from 'services/Favourites'\r\n\r\nconst fetchData = async () => {\r\n    const request = await axios.get(process.env.REACT_APP_API_URL)\r\n\r\n    return dispatch => dispatch({\r\n        type: 'FETCH_DATA',\r\n        payload: request.data\r\n    })\r\n}\r\n\r\nconst fetchFavourites = async () => {\r\n    const favourites = await FavouritesService.get()\r\n    return dispatch => dispatch({\r\n        type: 'FETCH_FAVOURITES',\r\n        favourites\r\n    })\r\n}\r\n\r\nconst searchResults = async results => {\r\n    const favourites = await FavouritesService.get()\r\n    let isFav, infos\r\n    let materials = []\r\n    results.map( (material, index) => {\r\n        favourites.find( fav => fav.title === material.title ) ? isFav = true : isFav = false\r\n\r\n        infos = {\r\n            id: material.id || index,\r\n            title: material.title,\r\n            description: material.body,\r\n            isFav\r\n        }\r\n        return materials.push(infos)\r\n    })\r\n\r\n    return dispatch => dispatch({\r\n        type: 'SEARCH_RESULTS', \r\n        payload: materials\r\n    })\r\n}\r\n\r\nconst clearResults = () => {\r\n    return dispatch => dispatch({\r\n        type: 'CLEAR_RESULTS',\r\n        payload: []\r\n    })\r\n}\r\n\r\nconst addFavourite = async material => {\r\n    const favourites = await FavouritesService.get()\r\n    favourites.push(material)\r\n    await FavouritesService.set(favourites)\r\n\r\n    return dispatch => dispatch({\r\n        type: 'ADD_FAVOURITE',\r\n        material\r\n    })\r\n}\r\n\r\nconst removeFavourite = async material => {\r\n    const favourites = await FavouritesService.get()\r\n    const index      = favourites.findIndex( fav => fav.title === material.title )\r\n\r\n    favourites.splice( index, 1 )\r\n\r\n    await FavouritesService.set(favourites)\r\n\r\n    return dispatch => {\r\n        dispatch(fetchFavourites())\r\n        dispatch({\r\n            type: 'REMOVE_FAVOURITE', \r\n            material\r\n        })\r\n    }\r\n}\r\n\r\nexport {\r\n    fetchData,\r\n    fetchFavourites,\r\n    searchResults,\r\n    clearResults,\r\n    addFavourite,\r\n    removeFavourite\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\n\r\nimport './form.css'\r\n\r\nimport { searchResults, clearResults } from 'store/actions'\r\n\r\nclass SearchForm extends Component {\r\n    state = {\r\n        input: ''\r\n    }\r\n\r\n    _handleInputChange(e){\r\n        this.setState({ input: e.target.value })\r\n        if(e.target.value === ''){\r\n            //Clear the search results list\r\n            this.props.clearResults()\r\n        }\r\n    }\r\n\r\n    _handleSubmit(e){\r\n        e.preventDefault()\r\n        const { input }     = this.state\r\n        const { wasteMaterials } = this.props\r\n        if( input === '' ){\r\n            alert('Search field is required')\r\n            return\r\n        }\r\n\r\n        let materials = []\r\n        let match   = 0\r\n        wasteMaterials.map(material => {\r\n            match = material.keywords.search( input.toLowerCase() )\r\n            if( match === -1 ){ return false }\r\n            return materials.push( material )\r\n        })\r\n        materials.length > 0 ? this.props.searchResults( materials ) : alert('Material not found.')\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <form id=\"search-form\" onSubmit={ this._handleSubmit.bind(this) }>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Search\"\r\n                    value={this.state.input}\r\n                    onChange={this._handleInputChange.bind(this)}\r\n                />\r\n\r\n                <button type=\"submit\">\r\n                    <SearchIcon fontSize=\"large\" id=\"search-icon\"/>\r\n                </button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps    = state    => ({ wasteMaterials: state.waste.materials })\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ searchResults, clearResults }, dispatch)\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm)\r\n","\r\nimport React, { Component } from 'react'\r\nimport StarIcon from '@material-ui/icons/Star'\r\n\r\nimport './material-item.css'\r\n\r\nclass MaterialItem extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.item = React.createRef()\r\n    }\r\n\r\n    _parseStrToHTML(str) {\r\n        let txt = document.createElement( 'textarea' )\r\n        txt.innerHTML = str\r\n        return txt.value\r\n    }\r\n\r\n    componentDidMount(){\r\n        const node    = this.item.current\r\n        const htmlStr = this._parseStrToHTML(this.props.description)\r\n        node.insertAdjacentHTML('beforeend', htmlStr)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <li className=\"row\">\r\n                <div className=\"name\">\r\n                    <button \r\n                        className=\"star-btn\" \r\n                        onClick={this.props.onClick}\r\n                        title={this.props.title}\r\n                    >\r\n                        <StarIcon id=\"star-icon\" className={this.props.isFav ? 'favorited' : ''} />\r\n                    </button>\r\n                    <h2>{this.props.name}</h2>\r\n                </div>\r\n\r\n                <div className=\"description\" ref={this.item}></div>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MaterialItem\r\n","\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport Item from 'components/MaterialItem'\r\n\r\nimport { addFavourite, removeFavourite } from 'store/actions'\r\n\r\nimport './results.css'\r\nclass Results extends Component {\r\n\r\n    _handleClick(material){\r\n        material.isFav === true\r\n        ? this.props.removeFavourite(material)\r\n        : this.props.addFavourite(material)\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <section id=\"results-container\">\r\n                 <ul className=\"material-list\">\r\n                    {\r\n                        this.props.results.map((material, index) => \r\n                        <Item \r\n                            key={index}\r\n                            name={material.title}\r\n                            isFav={material.isFav}\r\n                            onClick={() => this._handleClick(material)}\r\n                            description={material.description}\r\n                            title={material.isFav === true ? 'Remove from favourites' : 'Add to favourites'}\r\n                        />)\r\n                    }\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps    = state    => ({ results: state.waste.searchResults })\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ addFavourite, removeFavourite }, dispatch)\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Results)\r\n","\r\nimport React from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport Item from 'components/MaterialItem'\r\n\r\nimport { removeFavourite } from 'store/actions'\r\n\r\nimport './favourites.css'\r\n\r\nconst Favourites = props => (\r\n    <section id=\"favourites-container\">\r\n        <div className=\"container\">\r\n            <header>\r\n                <h2>Favourites</h2>\r\n            </header>\r\n\r\n            <ul className=\"material-list\">\r\n                {\r\n                    props.favourites.map((material, index) => \r\n                    <Item \r\n                        key={index}\r\n                        name={material.title}\r\n                        onClick={() => props.removeFavourite(material, index)}\r\n                        description={material.description}\r\n                        title=\"Remove from favourites\"\r\n                    />)\r\n                }\r\n            </ul>\r\n        </div>\r\n    </section>\r\n)\r\n\r\nconst mapStateToProps    = state    => ({ favourites: state.waste.favourites })\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ removeFavourite }, dispatch)\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Favourites)\r\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport SearchForm from 'containers/SearchForm'\nimport Results from 'containers/Results'\nimport Favourites from 'containers/Favourites'\n\nimport './index.css'\n\nimport { fetchData, fetchFavourites } from 'store/actions'\nclass App extends Component {\n  componentDidMount(){\n    this.props.fetchData()\n    this.props.fetchFavourites()\n  }\n\n  render(){\n    if( this.props.materials.length === 0 ){\n      return(\n        <div className=\"progress-wrapper\">\n          <CircularProgress />\n        </div>\n      )\n    }\n    return(\n      <div id=\"app\">\n\n        <header>\n          <h1>Toronto Waste Lookup</h1>\n        </header>\n\n        <div className=\"container\">\n          <SearchForm />\n\n          <Results />\n        </div>\n\n        {\n          this.props.favourites.length > 0\n          ? <Favourites />\n          : false\n        }\n\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps    = state    => ({ favourites: state.waste.favourites, materials: state.waste.materials }) \nconst mapDispatchToProps = dispatch => bindActionCreators({ fetchData, fetchFavourites }, dispatch)\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport promise from 'redux-promise'\nimport thunk from 'redux-thunk'\nimport multi from 'redux-multi'\nimport rootReducer from './store'\n\nimport './index.css'\nimport App from './App'\n\nconst devTools = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\nconst store    = applyMiddleware(multi, promise, thunk)(createStore)(rootReducer, devTools)\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'))\n\n"],"sourceRoot":""}